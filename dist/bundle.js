(()=>{"use strict";var n={16:(n,e,t)=>{t.d(e,{A:()=>i});var r=t(601),a=t.n(r),o=t(314),d=t.n(o)()(a());d.push([n.id,"* {\n    margin: 0;\n    padding: 0;\n    box-sizing: border-box;\n}\n\nbody {\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;\n    background-color: #0079bf;\n    padding: 20px;\n    min-height: 100vh;\n}\n\n.board {\n    display: flex;\n    gap: 20px;\n    min-height: 80vh;\n    align-items: flex-start;\n}\n\n.column {\n    flex: 1;\n    background: #ebecf0;\n    border-radius: 8px;\n    padding: 12px;\n    min-width: 300px;\n    max-width: 300px;\n    display: flex;\n    flex-direction: column;\n    min-height: 200px;\n}\n\n.column h2 {\n    font-size: 16px;\n    margin-bottom: 16px;\n    color: #172b4d;\n    padding: 0 8px;\n    font-weight: 600;\n}\n\n.card {\n    background: white;\n    margin: 4px 0;\n    padding: 12px;\n    border-radius: 6px;\n    cursor: grab;\n    position: relative;\n    box-shadow: 0 1px 0 rgba(9,30,66,.25);\n    user-select: none;\n    min-height: 40px;\n    display: flex;\n    align-items: center;\n    word-break: break-word;\n}\n\n.card:hover {\n    background: #f5f6f8;\n}\n\n.card:hover .delete-card {\n    display: block;\n}\n\n.delete-card {\n    display: none;\n    position: absolute;\n    right: 8px;\n    top: 50%;\n    transform: translateY(-50%);\n    cursor: pointer;\n    color: #42526e;\n    font-size: 18px;\n    font-weight: bold;\n    width: 24px;\n    height: 24px;\n    text-align: center;\n    line-height: 22px;\n    border-radius: 3px;\n}\n\n.delete-card:hover {\n    background: rgba(9,30,66,.08);\n    color: #172b4d;\n}\n\n.card.dragging {\n    opacity: 0.5;\n    transform: rotate(5deg);\n    cursor: grabbing;\n    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n}\n\n.cards-container {\n    flex: 1;\n    min-height: 40px;\n}\n\n.card-placeholder {\n    border: 2px dashed #c4c9d2;\n    margin: 4px 0;\n    border-radius: 6px;\n    background: rgba(9,30,66,.04);\n}\n\n.add-card-form {\n    display: none;\n    margin-top: 8px;\n}\n\n.card-text {\n    width: 100%;\n    border: none;\n    border-radius: 4px;\n    padding: 8px 12px;\n    resize: none;\n    min-height: 60px;\n    font-family: inherit;\n    font-size: 14px;\n    box-shadow: 0 1px 0 rgba(9,30,66,.25);\n    margin-bottom: 8px;\n}\n\n.card-text:focus {\n    outline: none;\n    box-shadow: 0 0 0 2px #0079bf;\n}\n\n.add-card-actions {\n    display: flex;\n    align-items: center;\n    gap: 8px;\n}\n\n.confirm-add-card {\n    background: #0079bf;\n    color: white;\n    border: none;\n    border-radius: 4px;\n    padding: 8px 16px;\n    cursor: pointer;\n    font-size: 14px;\n    font-weight: 500;\n}\n\n.confirm-add-card:hover {\n    background: #026aa7;\n}\n\n.cancel-add-card {\n    background: none;\n    border: none;\n    color: #6b778c;\n    cursor: pointer;\n    font-size: 20px;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 4px;\n}\n\n.cancel-add-card:hover {\n    background: rgba(9,30,66,.08);\n    color: #172b4d;\n}\n\n.add-card-btn {\n    background: none;\n    border: none;\n    color: #6b778c;\n    cursor: pointer;\n    padding: 8px;\n    width: 100%;\n    text-align: left;\n    border-radius: 4px;\n    margin-top: 8px;\n    font-size: 14px;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n}\n\n.add-card-btn:hover {\n    background: rgba(9,30,66,.08);\n    color: #172b4d;\n}\n\n.add-card-btn::before {\n    content: '+';\n    font-size: 16px;\n    font-weight: bold;\n}\n\n/* Responsive design */\n@media (max-width: 1024px) {\n    .board {\n        flex-direction: column;\n        align-items: stretch;\n    }\n    \n    .column {\n        max-width: none;\n    }\n}",""]);const i=d},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},72:n=>{var e=[];function t(n){for(var t=-1,r=0;r<e.length;r++)if(e[r].identifier===n){t=r;break}return t}function r(n,r){for(var o={},d=[],i=0;i<n.length;i++){var c=n[i],s=r.base?c[0]+r.base:c[0],l=o[s]||0,u="".concat(s," ").concat(l);o[s]=l+1;var p=t(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var g=a(h,r);r.byIndex=i,e.splice(i,0,{identifier:u,updater:g,references:1})}d.push(u)}return d}function a(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,a){var o=r(n=n||[],a=a||{});return function(n){n=n||[];for(var d=0;d<o.length;d++){var i=t(o[d]);e[i].references--}for(var c=r(n,a),s=0;s<o.length;s++){var l=t(o[s]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=c}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t="",r=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),r&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),r&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t}).join("")},e.i=function(n,t,r,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var d={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(d[c]=!0)}for(var s=0;s<n.length;s++){var l=[].concat(n[s]);r&&d[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},601:n=>{n.exports=function(n){return n[1]}},659:n=>{var e={};n.exports=function(n,t){var r=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}e[n]=t}return e[n]}(n);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}}},e={};function t(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={id:r,exports:{}};return n[r](o,o.exports,t),o.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),d=t.n(o),i=t(659),c=t.n(i),s=t(56),l=t.n(s),u=t(540),p=t.n(u),h=t(113),g=t.n(h),f=t(16),m={};m.styleTagTransform=g(),m.setAttributes=l(),m.insert=c().bind(null,"head"),m.domAPI=d(),m.insertStyleElement=p(),a()(f.A,m),f.A&&f.A.locals&&f.A.locals;class b{constructor(){this.columns=document.querySelectorAll(".column"),this.draggedCard=null,this.dragOffset={x:0,y:0},this.placeholder=null,this.init()}init(){this.initializeCardEvents(),this.initializeColumnEvents(),this.initializeAddCardForms(),this.initializeSampleCards()}initializeColumnEvents(){this.columns.forEach(n=>{n.addEventListener("dragover",this.handleDragOver.bind(this)),n.addEventListener("drop",this.handleDrop.bind(this)),n.addEventListener("dragenter",this.handleDragEnter.bind(this)),n.addEventListener("dragleave",this.handleDragLeave.bind(this))})}initializeAddCardForms(){document.querySelectorAll(".add-card-btn").forEach(n=>{n.addEventListener("click",()=>this.showAddCardForm(n))}),document.querySelectorAll(".cancel-add-card").forEach(n=>{n.addEventListener("click",n=>this.hideAddCardForm(n.target.closest(".column")))}),document.querySelectorAll(".confirm-add-card").forEach(n=>{n.addEventListener("click",n=>this.handleAddCard(n.target.closest(".column")))}),document.querySelectorAll(".card-text").forEach(n=>{n.addEventListener("keypress",n=>{"Enter"!==n.key||n.shiftKey||(n.preventDefault(),this.handleAddCard(n.target.closest(".column")))})})}showAddCardForm(n){const e=n.closest(".column").querySelector(".add-card-form"),t=e.querySelector(".card-text");n.style.display="none",e.style.display="block",t.focus()}hideAddCardForm(n){const e=n.querySelector(".add-card-form"),t=n.querySelector(".add-card-btn"),r=e.querySelector(".card-text");e.style.display="none",t.style.display="block",r.value=""}handleAddCard(n){const e=n.querySelector(".card-text").value.trim();if(e){const t=n.querySelector(".cards-container");this.createCard(e,t)}this.hideAddCardForm(n)}createCard(n,e){const t=new Card(n);return e.appendChild(t.element),t}handleDragStart(n,e){this.draggedCard=n,this.dragOffset.x=e.clientX-n.element.getBoundingClientRect().left,this.dragOffset.y=e.clientY-n.element.getBoundingClientRect().top,n.element.classList.add("dragging"),this.placeholder=document.createElement("div"),this.placeholder.className="card-placeholder",this.placeholder.style.height=`${n.element.offsetHeight}px`}handleDragOver(n){if(n.preventDefault(),!this.draggedCard)return;const e=this.findCardsContainer(n.target);if(!e)return;const t=this.getDragAfterElement(e,n.clientY),r=e.querySelector(".card-placeholder");r&&r.remove(),t?e.insertBefore(this.placeholder,t):e.append(this.placeholder)}handleDragEnter(n){n.preventDefault();const e=n.target.closest(".column");e&&(e.style.backgroundColor="rgba(0, 121, 191, 0.1)")}handleDragLeave(n){n.preventDefault();const e=n.target.closest(".column");e&&!e.contains(n.relatedTarget)&&(e.style.backgroundColor="")}handleDrop(n){if(n.preventDefault(),!this.draggedCard||!this.placeholder)return;const e=this.findCardsContainer(n.target);if(!e)return;const t=this.getDragAfterElement(e,n.clientY);t?e.insertBefore(this.draggedCard.element,t):e.append(this.draggedCard.element),this.cleanupDrag()}handleDragEnd(n){this.cleanupDrag()}cleanupDrag(){this.draggedCard&&(this.draggedCard.element.classList.remove("dragging"),this.draggedCard=null),this.placeholder&&(this.placeholder.remove(),this.placeholder=null),this.columns.forEach(n=>{n.style.backgroundColor=""})}findCardsContainer(n){return n.closest(".column")?.querySelector(".cards-container")}getDragAfterElement(n,e){return[...n.querySelectorAll(".card:not(.dragging)")].reduce((n,t)=>{const r=t.getBoundingClientRect(),a=e-r.top-r.height/2;return a<0&&a>n.offset?{offset:a,element:t}:n},{offset:Number.NEGATIVE_INFINITY}).element}initializeCardEvents(){}initializeSampleCards(){const n={todo:["Добро пожаловать в Trello!","Это карточка","Нажмите на карточку, чтобы увидеть, что за ней скрывается"],progress:["Пригласите свою команду","Перетаскивайте людей на карточки","Используйте метки с цветовой кодировкой"],done:["Чтобы узнать больше хитростей, ознакомьтесь с руководством","Используйте столько досок, сколько хотите"]};Object.keys(n).forEach(e=>{const t=document.querySelector(`[data-column-id="${e}"] .cards-container`);t&&n[e].forEach(n=>{this.createCard(n,t)})})}}document.addEventListener("DOMContentLoaded",()=>{window.trelloBoard=new b})})();